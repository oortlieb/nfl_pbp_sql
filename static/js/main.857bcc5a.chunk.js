(this.webpackJsonpnfl_pbp_sql=this.webpackJsonpnfl_pbp_sql||[]).push([[0],{136:function(t,e,n){},137:function(t,e,n){},142:function(t,e){},144:function(t,e){},154:function(t,e){},156:function(t,e){},183:function(t,e){},184:function(t,e){},189:function(t,e){},191:function(t,e){},198:function(t,e){},217:function(t,e){},254:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),i=n(124),u=n.n(i),o=(n(136),n(27)),s=(n(137),n(125)),l=n.n(s),a=n(130),b=n(43),j=n(69),f=n(128),d=n(129),O=(n(250),n(251),n(252),n(3));function h(t){var e=t.results;if(!e)return null;var n=e.columns,c=e.values;return Object(O.jsxs)(g,{children:[Object(O.jsx)("button",{type:"button",onClick:function(){return t=e,Object(d.saveAs)(new Blob([y(t)]),"download.tsv");var t},children:"DOWNLOAD"}),Object(O.jsx)(v,{children:Object(O.jsxs)("tbody",{children:[Object(O.jsx)("tr",{children:n.map((function(t,e){return Object(O.jsx)("th",{children:t},e)}))}),c.map((function(t,e){return Object(O.jsx)("tr",{children:t.map((function(t,e){return Object(O.jsx)("td",{children:t},e)}))},e)}))]})})]})}function p(t){var e=t.onSubmit,n=Object(a.a)({initialValues:{query:Object(j.format)("select count(*) as 'sacks', formation from plays where is_sack = true group by formation")},onSubmit:function(t){return e(t.query)}}),r=Object(c.useCallback)((function(){n.setFieldValue("query",Object(j.format)(n.values.query))}),[n]);return Object(O.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(O.jsx)(f.Controlled,{options:{mime:"text/x-sql",lineWrapping:!0,lineNumbers:!0,showCursorWhenSelecting:!0,hintOptions:{tables:{plays:["game_id"]}}},value:n.values.query,onBeforeChange:function(t,e,c){n.setFieldValue("query",c)}}),Object(O.jsx)("button",{type:"submit",children:"RUN"}),Object(O.jsx)("button",{type:"button",onClick:r,children:"FORMAT"})]})}function x(t){var e=t.error;return Object(O.jsxs)("div",{children:[Object(O.jsx)(m,{children:"SQL Error!"}),Object(O.jsx)(m,{children:e})]})}var m=b.a.div({color:"red"}),v=b.a.table({borderCollapse:"separate",borderSpacing:"12px",textAlign:"left",border:"1px solid black"}),g=b.a.div({marginTop:"12px"});function y(t){var e=[t.columns.join("\t")];return(e=e.concat(t.values.map((function(t){return t.join("\t")})))).join("\n")}var S=function(){var t=Object(c.useState)(null),e=Object(o.a)(t,2),n=e[0],r=e[1],i=Object(c.useState)(null),u=Object(o.a)(i,2),s=u[0],a=u[1],b=Object(c.useState)(null),j=Object(o.a)(b,2),f=j[0],d=j[1],m=Object(c.useState)([]),v=Object(o.a)(m,2),g=v[0],y=v[1],S=Object(c.useState)(""),q=Object(o.a)(S,2),w=q[0],C=q[1];return Object(c.useEffect)((function(){l()({locateFile:function(){return"./sql-wasm.wasm"}}).then((function(t){fetch("./pbp_2021.sqlite").then((function(t){return t.arrayBuffer()})).then((function(e){return r(new t.Database(new Uint8Array(e)))})).catch((function(t){return a(t)}))}))}),[]),Object(c.useEffect)((function(){if(n&&w)try{y(null===n||void 0===n?void 0:n.exec(w)),d(null)}catch(t){y([]),d(t.message)}}),[w,n]),s?Object(O.jsxs)("div",{children:["Error: ",JSON.stringify(s)]}):null===n?Object(O.jsx)("div",{children:"Loading..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p,{onSubmit:C}),g[0]&&Object(O.jsx)(h,{results:g[0]}),Object(O.jsx)("div",{children:f&&Object(O.jsx)(x,{error:f})})]})},q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,255)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,i=e.getLCP,u=e.getTTFB;n(t),c(t),r(t),i(t),u(t)}))};u.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root")),q()}},[[254,1,2]]]);
//# sourceMappingURL=main.857bcc5a.chunk.js.map