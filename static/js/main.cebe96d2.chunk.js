(this.webpackJsonpnfl_pbp_sql=this.webpackJsonpnfl_pbp_sql||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},149:function(e,t){},151:function(e,t){},161:function(e,t){},163:function(e,t){},190:function(e,t){},191:function(e,t){},196:function(e,t){},198:function(e,t){},205:function(e,t){},224:function(e,t){},266:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(131),i=n.n(s),a=(n(143),n(10)),l=(n(144),n(132)),o=n.n(l),u=n(137),j=n(49),b=n(76),d=n(31),h=n(135),O=n(136),m=(n(257),n(258),n(130),n(259),n(260),n(261),n(38)),f=n(4),x=n(50),p=n(1),v=[{desc:"Most passing TD at home this year",query:'select player_name, sum(passing_td) as "passing td" from player_games where at_home group by player_name having sum(passing_td) > 0 order by sum(passing_td) desc'},{desc:"Fantasy points scored by a team",query:"select team, sum(total_points) from player_games group by team order by sum(total_points) desc"},{desc:"Fantasy points allowed by a team",query:"select player_opponent, sum(total_points) from player_games group by player_opponent order by sum(total_points) desc"}];function y(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m.b,{to:"/db?dbURL=ff_2021.sqlite",children:"Superflex SQL"}),Object(p.jsx)(m.b,{to:"/db?dbURL=pbp_2021.sqlite",children:"NFL PBP data"})]})}function g(){var e=Object(m.c)(),t=Object(a.a)(e,1)[0].get("dbURL");return Object(p.jsx)(_,{dbURL:"./".concat(t)})}function _(e){var t=e.dbURL,n=Object(c.useState)(null),r=Object(a.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(null),u=Object(a.a)(l,2),j=u[0],b=u[1],d=Object(c.useState)(null),h=Object(a.a)(d,2),O=h[0],m=h[1],f=Object(c.useState)([]),x=Object(a.a)(f,2),v=x[0],y=x[1],g=Object(c.useState)([]),_=Object(a.a)(g,2),q=_[0],w=_[1],C=Object(c.useState)(""),N=Object(a.a)(C,2),k=N[0],E=N[1];return Object(c.useEffect)((function(){o()({locateFile:function(){return"./sql-wasm.wasm"}}).then((function(e){fetch(t).then((function(e){return e.arrayBuffer()})).then((function(t){return i(new e.Database(new Uint8Array(t)))})).catch((function(e){return b(e)}))}))}),[t]),Object(c.useEffect)((function(){if(s)try{w(null===s||void 0===s?void 0:s.exec("SELECT * FROM sqlite_schema")),m(null)}catch(e){y([]),m(e.message)}}),[s]),Object(c.useEffect)((function(){if(s&&k)try{y(null===s||void 0===s?void 0:s.exec(k)),m(null)}catch(e){y([]),m(e.message)}}),[k,s]),j?Object(p.jsxs)("div",{children:["Error: ",JSON.stringify(j)]}):null===s?Object(p.jsx)("div",{children:"Loading..."}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"layout-grid",children:[Object(p.jsxs)("div",{className:"left-col-wrapper",children:[Object(p.jsx)(F,{onSubmit:E}),Object(p.jsx)(R,{schemaQueryResult:q})]}),v[0]&&Object(p.jsx)(S,{results:v[0]}),O&&Object(p.jsx)("div",{children:Object(p.jsx)(L,{error:O})})]})})}function S(e){var t=e.results;if(!t)return null;var n=t.columns,c=t.values;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"results-table-scroll-wrapper",children:Object(p.jsx)(k,{children:Object(p.jsx)(N,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsx)("tr",{children:n.map((function(e,t){return Object(p.jsx)("th",{children:e},t)}))}),c.map((function(e,t){return Object(p.jsx)("tr",{className:"result-row",children:e.map((function(e,t){return Object(p.jsx)("td",{children:e||0},t)}))},t)}))]})})})}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{children:t&&Object(p.jsx)("button",{type:"button",onClick:function(){return e=t,Object(O.saveAs)(new Blob([E(e)]),"download.tsv");var e},children:"Download TSV"})}),Object(p.jsx)("div",{}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:["Data from"," ",Object(p.jsx)("a",{href:"https://github.com/hvpkod/NFL-Data",children:"https://github.com/hvpkod/NFL-Data"})]}),Object(p.jsxs)("div",{children:["post on"," ",Object(p.jsx)("a",{href:"https://www.reddit.com/r/fantasyfootball/comments/qmlcvm/how_about_some_raw_data/",children:"reddit"})]})]}),Object(p.jsx)("div",{})]})]})}var q={tables:{games:["col_A","col_B","col_C"],players:["other_columns1","other_columns2"]},disableKeywords:!0,completeSingle:!1,completeOnSingleClick:!1},w={mime:"text/x-sql",mode:{name:"sql"},extraKeys:{"Ctrl-Space":"autocomplete"},hint:d.hint.sql,hintOptions:q,lineWrapping:!0,lineNumbers:!0,showCursorWhenSelecting:!0};function F(e){var t=e.onSubmit,n=Object(u.a)({initialValues:{query:v[0].query},onSubmit:function(e){return t(e.query)}}),r=Object(c.useCallback)((function(){n.setFieldValue("query",Object(b.format)(n.values.query))}),[n]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Superflex SQL"}),Object(p.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(p.jsx)(h.Controlled,{options:w,value:n.values.query,onBeforeChange:function(e,t,c){n.setFieldValue("query",c),e.showHint(q)}}),Object(p.jsxs)("div",{className:"button-wrapper",children:[Object(p.jsx)("button",{type:"submit",children:"Run Query"}),Object(p.jsx)("button",{type:"button",onClick:r,children:"Format Query"})]}),Object(p.jsx)(D,{onSelect:function(e){return n.setFieldValue("query",Object(b.format)(e))}})]})]})}function L(e){var t=e.error;return Object(p.jsxs)("div",{children:[Object(p.jsx)(C,{children:"SQL Error!"}),Object(p.jsx)(C,{children:t})]})}var C=j.a.div({color:"red"}),N=j.a.table({textAlign:"center",border:"1px solid black"}),k=j.a.div({marginTop:"12px",maxWidth:"100%",boxSizing:"border-box"});function E(e){var t=[e.columns.join("\t")];return(t=t.concat(e.values.map((function(e){return e.join("\t")})))).join("\n")}function R(e){var t=e.schemaQueryResult;if(t.length<1)return Object(p.jsx)("div",{});var n=t[0].values.map((function(e){var t=Object(a.a)(e,5),n=(t[0],t[1]),c=(t[2],t[3],t[4]);return Object(p.jsx)(Q,{name:n,sql:c},n)}));return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Table information"}),Object(p.jsx)("div",{children:n})]})}function Q(e){var t=e.name,n=e.sql,r=Object(c.useMemo)((function(){var e=n.substring(n.indexOf("(")+1,n.lastIndexOf(")")).trim(),t=/,$/;return e.split("\n").map((function(e){return e.trim().replace(t,"").split(" ")}))}),[n]);return Object(p.jsx)("div",{children:Object(p.jsxs)(x.a,{children:[Object(p.jsx)(x.b,{children:Object(p.jsx)("b",{children:t})}),Object(p.jsx)(x.c,{children:r.map((function(e){return Object(p.jsxs)("div",{children:[e[0]," ",Object(p.jsx)(B,{type:e[1]})]},e[0])}))})]})})}function B(e){var t=e.type;return Object(p.jsx)("b",{children:t})}function D(e){var t=e.onSelect;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Example Queries"}),Object(p.jsx)("div",{children:v.map((function(e,n){var c=e.desc,r=e.query;return Object(p.jsx)("button",{type:"button",className:"example-query",onClick:function(){return t(r)},children:c},n)}))})]})}var T=function(){return Object(p.jsx)(m.a,{basename:"/nfl_pbp_sql",children:Object(p.jsxs)(f.c,{children:[Object(p.jsx)(f.a,{path:"/",element:Object(p.jsx)(y,{})}),Object(p.jsx)(f.a,{path:"/db",element:Object(p.jsx)(g,{})})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,267)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),U()}},[[266,1,2]]]);
//# sourceMappingURL=main.cebe96d2.chunk.js.map