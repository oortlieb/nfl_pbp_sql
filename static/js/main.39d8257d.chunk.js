(this.webpackJsonpnfl_pbp_sql=this.webpackJsonpnfl_pbp_sql||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},149:function(e,t){},151:function(e,t){},161:function(e,t){},163:function(e,t){},190:function(e,t){},191:function(e,t){},196:function(e,t){},198:function(e,t){},205:function(e,t){},224:function(e,t){},266:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(131),i=n.n(s),a=(n(143),n(10)),l=(n(144),n(132)),o=n.n(l),u=n(137),j=n(49),b=n(48),d=n(31),O=n(135),h=n(136),m=(n(257),n(258),n(130),n(259),n(260),n(261),n(51)),f=n(4),p=n(50),x=n(1),v=[{desc:"Most passing TD at home this year",query:'select player_name, sum(passing_td) as "passing td" from player_games where at_home group by player_name having sum(passing_td) > 0 order by sum(passing_td) desc'},{desc:"Fantasy points scored by a team",query:"select team, sum(total_points) from player_games group by team order by sum(total_points) desc"},{desc:"Fantasy points allowed by a team",query:"select player_opponent, sum(total_points) from player_games group by player_opponent order by sum(total_points) desc"}];function y(){return Object(x.jsx)(m.b,{to:"/nfl_pbp_sql/db?dbURL=pbp_2021.sqlite",children:"Go to NFL data"})}function g(){var e=Object(m.c)(),t=Object(a.a)(e,1)[0].get("dbURL");return Object(x.jsx)(_,{dbURL:"./".concat(t)})}function _(e){var t=e.dbURL,n=Object(c.useState)(null),r=Object(a.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(null),u=Object(a.a)(l,2),j=u[0],b=u[1],d=Object(c.useState)(null),O=Object(a.a)(d,2),h=O[0],m=O[1],f=Object(c.useState)([]),p=Object(a.a)(f,2),v=p[0],y=p[1],g=Object(c.useState)([]),_=Object(a.a)(g,2),S=_[0],w=_[1],L=Object(c.useState)(""),N=Object(a.a)(L,2),k=N[0],E=N[1];return Object(c.useEffect)((function(){o()({locateFile:function(){return"./sql-wasm.wasm"}}).then((function(e){fetch(t).then((function(e){return e.arrayBuffer()})).then((function(t){return i(new e.Database(new Uint8Array(t)))})).catch((function(e){return b(e)}))}))}),[t]),Object(c.useEffect)((function(){if(s)try{w(null===s||void 0===s?void 0:s.exec("SELECT * FROM sqlite_schema")),m(null)}catch(e){y([]),m(e.message)}}),[s]),Object(c.useEffect)((function(){if(s&&k)try{y(null===s||void 0===s?void 0:s.exec(k)),m(null)}catch(e){y([]),m(e.message)}}),[k,s]),j?Object(x.jsxs)("div",{children:["Error: ",JSON.stringify(j)]}):null===s?Object(x.jsx)("div",{children:"Loading..."}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"layout-grid",children:[Object(x.jsxs)("div",{className:"left-col-wrapper",children:[Object(x.jsx)(F,{onSubmit:E}),Object(x.jsx)(R,{schemaQueryResult:S})]}),v[0]&&Object(x.jsx)(q,{results:v[0]}),h&&Object(x.jsx)("div",{children:Object(x.jsx)(C,{error:h})})]})})}function q(e){var t=e.results;if(!t)return null;var n=t.columns,c=t.values;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"results-table-scroll-wrapper",children:Object(x.jsx)(k,{children:Object(x.jsx)(N,{children:Object(x.jsxs)("tbody",{children:[Object(x.jsx)("tr",{children:n.map((function(e,t){return Object(x.jsx)("th",{children:e},t)}))}),c.map((function(e,t){return Object(x.jsx)("tr",{className:"result-row",children:e.map((function(e,t){return Object(x.jsx)("td",{children:e||0},t)}))},t)}))]})})})}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{children:t&&Object(x.jsx)("button",{type:"button",onClick:function(){return e=t,Object(h.saveAs)(new Blob([E(e)]),"download.tsv");var e},children:"Download TSV"})}),Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:["Data from"," ",Object(x.jsx)("a",{href:"https://github.com/hvpkod/NFL-Data",children:"https://github.com/hvpkod/NFL-Data"})]}),Object(x.jsxs)("div",{children:["post on"," ",Object(x.jsx)("a",{href:"https://www.reddit.com/r/fantasyfootball/comments/qmlcvm/how_about_some_raw_data/",children:"reddit"})]})]}),Object(x.jsx)("div",{})]})]})}var S={tables:{games:["col_A","col_B","col_C"],players:["other_columns1","other_columns2"]},disableKeywords:!0,completeSingle:!1,completeOnSingleClick:!1},w={mime:"text/x-sql",mode:{name:"sql"},extraKeys:{"Ctrl-Space":"autocomplete"},hint:d.hint.sql,hintOptions:S,lineWrapping:!0,lineNumbers:!0,showCursorWhenSelecting:!0};function F(e){var t=e.onSubmit,n=Object(u.a)({initialValues:{query:Object(b.format)(v[0].query)},onSubmit:function(e){return t(e.query)}}),r=Object(c.useCallback)((function(){n.setFieldValue("query",Object(b.format)(n.values.query))}),[n]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(x.jsx)(O.Controlled,{options:w,value:n.values.query,onBeforeChange:function(e,t,c){n.setFieldValue("query",c),e.showHint(S)}}),Object(x.jsxs)("div",{className:"button-wrapper",children:[Object(x.jsx)("button",{type:"submit",children:"Run Query"}),Object(x.jsx)("button",{type:"button",onClick:r,children:"Format Query"})]}),Object(x.jsx)(B,{onSelect:function(e){return n.setFieldValue("query",Object(b.format)(e))}})]})})}function C(e){var t=e.error;return Object(x.jsxs)("div",{children:[Object(x.jsx)(L,{children:"SQL Error!"}),Object(x.jsx)(L,{children:t})]})}var L=j.a.div({color:"red"}),N=j.a.table({textAlign:"center",border:"1px solid black"}),k=j.a.div({marginTop:"12px",maxWidth:"100%",boxSizing:"border-box"});function E(e){var t=[e.columns.join("\t")];return(t=t.concat(e.values.map((function(e){return e.join("\t")})))).join("\n")}function R(e){var t=e.schemaQueryResult;if(t.length<1)return Object(x.jsx)("div",{});var n=t[0].values.map((function(e){var t=Object(a.a)(e,5),n=(t[0],t[1]),c=(t[2],t[3],t[4]);return Object(x.jsx)(D,{name:n,sql:c},n)}));return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Table information"}),Object(x.jsx)("p",{children:n})]})}function D(e){var t=e.name,n=e.sql,r=Object(c.useMemo)((function(){var e=n.substring(n.indexOf("(")+1,n.lastIndexOf(")")).trim(),t=/,$/;return e.split("\n").map((function(e){return e.trim().replace(t,"").split(" ")}))}),[n]);return Object(x.jsx)("div",{children:Object(x.jsxs)(p.a,{children:[Object(x.jsx)(p.b,{children:Object(x.jsx)("b",{children:t})}),Object(x.jsx)(p.c,{children:r.map((function(e){return Object(x.jsxs)("div",{children:[e[0]," ",Object(x.jsx)(T,{type:e[1]})]},e[0])}))})]})})}function T(e){var t=e.type;return Object(x.jsx)("b",{children:t})}function B(e){var t=e.onSelect;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Example Queries"}),Object(x.jsx)("div",{children:v.map((function(e){var n=e.desc,c=e.query;return Object(x.jsx)("button",{type:"button",className:"example-query",onClick:function(){return t(c)},children:n})}))})]})}var Q=function(){return Object(x.jsx)(m.a,{children:Object(x.jsxs)(f.c,{children:[Object(x.jsx)(f.a,{path:"/",element:Object(x.jsx)(y,{})}),Object(x.jsx)(f.a,{path:"/nfl_pbp_sql/db",element:Object(x.jsx)(g,{})})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,267)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(Q,{})}),document.getElementById("root")),U()}},[[266,1,2]]]);
//# sourceMappingURL=main.39d8257d.chunk.js.map